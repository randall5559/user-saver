(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{175:function(e,t,a){e.exports=a(406)},40:function(e){e.exports={users:[],message:{display:!1,message:""}}},405:function(e,t,a){},406:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(18),c=a(77),l=a(23),o=a(158),i=a(78),u=a(40),E={ADD_USER:"ADD_USER",FETCH_USER_INFO:"FETCH_USER_INFO",FETCH_USERS:"FETCUSERS",FETCH_USERS_FAILURE:"FETCH_USERS_FAILURE",FETCH_USERS_SUCCESS:"FETCH_USERS_SUCCESS",FETCH_USERS_REQUEST:"FETCH_USERS_REQUEST",REMOVE_USER:"REMOVE_USER",REMOVE_USER_SUCCESS:"REMOVE_USER_SUCCESS",REMOVE_USER_FAILURE:"REMOVE_USER_FAILURE"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.users,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case E.FETCH_USERS_FAILURE:case E.REMOVE_USER_FAILURE:return e;case E.FETCH_USERS_SUCCESS:return Object.keys(n).map(function(e,t){return Object(i.a)({key:e,id:t},n[e])});case E.FETCH_USER_INFO:var r=n.html_url,s=n.login,c=n.name,l=n.public_repos,o=n.public_gists,m=n.followers,f=n.following,S=n.created_at,d=e.slice(0);return d.push({url:r,username:s,name:c,publicRepos:l,publicGists:o,followers:m,following:f,createdAt:new Date(S).toDateString(),id:e.length+1}),d;case E.REMOVE_USER_SUCCESS:var p=n.key;return e.slice(0).filter(function(e){return e.key!==p});default:return e}},f={SHOW_MESSAGE:"SHOW_MESSAGE",HIDE_MESSAGE:"HIDE_MESSAGE"},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.message,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case f.SHOW_MESSAGE:return{display:!0,message:n};case f.HIDE_MESSAGE:return Object(i.a)({},e,{display:!1});default:return e}},d=Object(l.c)({users:m,message:S}),p=function(){return Object(l.d)(d,u,Object(l.a)(o.a))},h=a(159),g=a(160),U=a(174),_=a(161),b=a(173),R=a(79),v=a.n(R),C=a(107),O=a(162),y=a.n(O),w=a(163),F=a.n(w),j=a(106),A=a.n(j),H=Object(C.withStyles)(function(){return{header:{marginBottom:10}}})(function(e){var t=e.classes.header;return r.a.createElement("div",{className:t},r.a.createElement(y.a,{position:"static",color:"default"},r.a.createElement(F.a,null,r.a.createElement(A.a,{variant:"h6",color:"inherit"},"Github User Saver"))))}),k=a(164),I=a.n(k),M=a(31),T=a.n(M),G=Object(C.withStyles)(function(e){return{paper:{padding:2*e.spacing.unit,margin:"auto",display:"flex",justifyContent:"center"},textfield:{margin:"10px",width:"95%"}}})(function(e){var t=e.classes,a=t.paper,n=t.textfield,s=e.fetchUser;e.doQuery;return r.a.createElement(T.a,{className:a},r.a.createElement(I.a,{id:"outline_textfield_fullwidth",label:"Add a Github User",className:n,placeholder:"Enter a Github Username",margin:"normal",variant:"outlined",InputLabelProps:{shrink:!0},onKeyPress:function(e){var t=e.key,a=e.target.value;"Enter"===t&&s(a)}}))}),N=a(166),D=a.n(N),V=a(168),L=a.n(V),x=a(167),B=a.n(x),P=a(108),W=a.n(P),z=a(48),Q=a.n(z),J=a(169),K=a.n(J),q=a(170),X=a.n(q),$=a(165),Y=a.n($),Z=Object(C.withStyles)(function(e){return{head:{backgroundColor:e.palette.common.black,color:e.palette.common.white},body:{fontSize:14}}})(Y.a),ee=Object(C.withStyles)(function(e){return{paper:{flexGrow:1},table:{minWidth:700},row:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}},margin:{margin:e.spacing.unit}}})(function(e){var t=e.classes,a=t.paper,n=t.table,s=t.row,c=t.margin,l=e.users,o=e.removeUser;return r.a.createElement(T.a,{className:a},r.a.createElement(D.a,{className:n},r.a.createElement(B.a,null,r.a.createElement(W.a,null,r.a.createElement(Z,null),r.a.createElement(Z,null,"Username"),r.a.createElement(Z,{align:"left"},"Name"),r.a.createElement(Z,{align:"left"},"Public Repos"),r.a.createElement(Z,{align:"left"},"Public Gists"),r.a.createElement(Z,{align:"left"},"Followers"),r.a.createElement(Z,{align:"left"},"Following"),r.a.createElement(Z,{align:"left"},"Created At"),r.a.createElement(Z,null))),r.a.createElement(L.a,null,l.map(function(e){return r.a.createElement(W.a,{className:s,key:e.id},r.a.createElement(Z,null,r.a.createElement(Q.a,{target:"_blank",href:e.url,"aria-label":"Launch",className:c},r.a.createElement(K.a,{fontSize:"small"}))),r.a.createElement(Z,{component:"th",scope:"row"},e.username),r.a.createElement(Z,{align:"left"},e.name),r.a.createElement(Z,{align:"left"},e.publicRepos),r.a.createElement(Z,{align:"left"},e.publicGists),r.a.createElement(Z,{align:"left"},e.followers),r.a.createElement(Z,{align:"left"},e.following),r.a.createElement(Z,{align:"left"},e.createdAt),r.a.createElement(Z,null,r.a.createElement(Q.a,{"aria-label":"Delete",className:c,onClick:function(){o(e.key)}},r.a.createElement(X.a,{fontSize:"small"}))))}))))}),te=a(171),ae=a.n(te),ne=a(172),re=a.n(ne),se=function(e){var t=e.open,a=e.onClose,n=e.message;return r.a.createElement(ae.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:t,autoHideDuration:6e3,onClose:a,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},n),action:[r.a.createElement(Q.a,{key:"close","aria-label":"Close",color:"inherit",onClick:a},r.a.createElement(re.a,null))]})},ce=a(407),le=a(109),oe=a.n(le),ie=(a(400),"https://api.github.com"),ue="/users";oe.a.initializeApp({apiKey:"AIzaSyC9VPxTH__us-2R3yV-Xj18qLypU2_VUy0",authDomain:"user-saver-65233.firebaseapp.com",databaseURL:"https://user-saver-65233.firebaseio.com",projectId:"user-saver-65233",storageBucket:"user-saver-65233.appspot.com",messagingSenderId:"90801367826"});var Ee=oe.a.database(),me={fetchUser:function(e){return fetch("".concat(ie).concat(ue,"/").concat(e)).then(function(e){return e?e.json():e.json().then(function(e){return new Error(e.message)})})},fetchUsers:function(){return Ee.ref("users").once("value")},removeUser:function(e){return Ee.ref("users").child(e).remove()},addUser:function(e,t){return Ee.ref("users").push(e,t)}},fe=Object(ce.a)(f.SHOW_MESSAGE),Se=Object(ce.a)(f.HIDE_MESSAGE),de=Object(ce.a)(E.FETCH_USERS_SUCCESS),pe=Object(ce.a)(E.FETCH_USERS_FAILURE),he=function(){var e=function(e){return me.fetchUsers().then(function(t){e(de(t.val()))}).catch(function(t){return e(pe(t)),e(fe("No saved users found. Please add a user via the Search Users Bar.")),t})};return e.type=E.FETCH_USERS,e},ge=Object(ce.a)(E.FETCH_USER_INFO),Ue=Object(ce.a)(E.FETCH_USERS_FAILURE),_e=function(e){var t=function(t){return me.fetchUser(e).then(function(e){return function(e,t){var a=e.html_url,n=e.login,r=e.name,s=e.public_repos,c=e.public_gists,l=e.followers,o=e.following,i=e.created_at;me.addUser({url:a,username:n,name:r,publicRepos:s,publicGists:c,followers:l,following:o,createdAt:new Date(i).toDateString()},function(e){t(fe(e?"Error: User name could not be added to Github!":"User ".concat(n," saved successfully!")))})}(e,t),t(ge(e)),e}).catch(function(a){return t(Ue(a)),t(fe("Couldn't find any username by the name of ".concat(e," in Github DB."))),a})};return t.type=E.FETCH_USER_INFO,t},be=Object(ce.a)(E.REMOVE_USER_SUCCESS),Re=Object(ce.a)(E.REMOVE_USER_FAILURE),ve={fetchUsers:he,fetchUser:_e,removeUser:function(e){var t=function(t){return me.removeUser(e).then(function(){t(be({key:e}))}).catch(function(e){return t(Re(e)),t(fe("Error: couldn't remove selected user!")),e})};return t.type=E.REMOVE_USER,t}},Ce={showMessage:fe,hideMessage:Se},Oe=function(e){function t(){var e,a;Object(h.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(U.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(r)))).handleClose=function(e,t){"clickaway"!==t&&(0,a.props.messageActions.hideMessage)()},a}return Object(b.a)(t,e),Object(g.a)(t,[{key:"componentDidMount",value:function(){(0,this.props.usersActions.fetchUsers)()}},{key:"render",value:function(){var e=this.props,t=e.classes,a=e.message,n=a.display,s=a.message,c=e.users,l=e.usersActions,o=l.fetchUser,i=l.removeUser,u=c||[];return r.a.createElement("div",{className:t.root},r.a.createElement(H,null),r.a.createElement(se,{open:n,message:s,onClose:this.handleClose}),r.a.createElement(v.a,{container:!0,direction:"row",justify:"center",alignItems:"center"},r.a.createElement(v.a,{className:t.grid,item:!0,xs:11},r.a.createElement(G,{fetchUser:o})),r.a.createElement(v.a,{className:t.grid,item:!0,xs:11},r.a.createElement(ee,{users:u,removeUser:i}))))}}]),t}(n.Component),ye=Object(c.b)(function(e){return{users:e.users,message:e.message}},function(e){return{usersActions:Object(l.b)(ve,e),messageActions:Object(l.b)(Ce,e)}})(Object(C.withStyles)(function(e){return{grid:{marginBottom:10,marginTop:10},head:{backgroundColor:e.palette.common.black,color:e.palette.common.white}}})(Oe));a(405),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));Object(s.render)(r.a.createElement(c.a,{store:p()},r.a.createElement(ye,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[175,1,2]]]);
//# sourceMappingURL=main.99f589b6.chunk.js.map